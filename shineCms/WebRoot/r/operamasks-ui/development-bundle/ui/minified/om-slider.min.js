(function(a){a.fn.omSlider=function(p){var g={slideTo:function(q){return this.each(function(){c=a(this).data("omSlider:opts");f(a(this),q)})},next:function(){return this.each(function(){c=a(this).data("omSlider:opts");e(a(this))})},prev:function(){return this.each(function(){c=a(this).data("omSlider:opts");b(a(this))})}};if(g[p]){return g[p].apply(this,Array.prototype.slice.call(arguments,1))}var i={autoPlay:true,interval:5000,directionNav:false,pauseOnHover:true,controlNav:true,activeNavCls:"nav-selected",effect:"fade",animSpeed:500,startSlide:0,delay:200,onBeforeSlide:function(q){},onAfterSlide:function(q){}};var c=a.extend({},i,p);function m(q){return q.data("omSlider:vars")}function h(q,s,y){var t=m(q),w=q.find("ul.om-slider-content"),v=w.children(),u=0,r=0;var x=y?y:c.effect;if(c.effect=="random"){w.removeClass("om-slider-effect-"+x).addClass("om-slider-effect-"+x)}if(x=="slide-v"){v.each(function(z){if(z==s){return false}u-=a(this).height()})}else{if(x=="slide-h"){v.each(function(z){if(z==s){return false}r-=a(this).width()})}else{return false}}t.running=true;w.stop().animate({top:u,left:r},c.animSpeed,function(){t.running=false;c.onAfterSlide.call(self,s)})}function j(s,r){var t=m(s),q=s.find("ul.om-slider-content").children();q.each(function(v){var u=a(this);if(v==r){t.running=true;u.fadeIn(c.animSpeed,function(){t.running=false;c.onAfterSlide.call(self,r)})}else{if(v==t.currentSlide){u.fadeOut(c.animSpeed)}}})}function k(s,r){var t=m(s),q=s.find("ul.om-slider-content").children();q.each(function(v){var u=a(this);if(v==r){u.show();c.onAfterSlide.call(self,r)}else{if(v==t.currentSlide){u.hide()}}})}function d(t,r){var u=m(t);var s=t;if(u.customNav){s=a("body")}var q=s.find(u.controlNav).children();q.each(function(v){a(this).toggleClass(c.activeNavCls,v==r)})}function f(s,q){var t=m(s),u=s.find("ul.om-slider-content");if(isNaN(q)||q<0||q>=t.totalSlides){return}if(c.onBeforeSlide.call(self,q)==false){return false}if(c.effect=="random"){var v=["fade","slide-h","slide-v"];var r=v[Math.floor(Math.random()*3)];u.removeClass().addClass("om-slider-content");u.removeAttr("style");u.find("li").removeAttr("style");if(r=="slide-h"||r=="slide-v"){h(s,q,r)}else{j(s,q)}}else{if(c.effect=="slide-h"||c.effect=="slide-v"){h(s,q)}else{if(c.effect=="fade"||c.effect===true){j(s,q)}else{k(s,q)}}}if(t.controlNav){d(s,q)}t.currentSlide=q;return s}function e(r){var s=m(r),q=0;if(s.currentSlide+2<=s.totalSlides){q=s.currentSlide+1}return f(r,q)}function b(r){var s=m(r),q=s.totalSlides-1;if(s.currentSlide!=0){q=s.currentSlide-1}return f(r,q)}function l(r){var s=m(r),q=a('<div class="om-slider-directionNav">').appendTo(r);a('<a class="om-slider-prevNav"></a>').appendTo(q).click(function(){if(s.running){return false}b(r)});a('<a class="om-slider-nextNav"></a>').appendTo(q).click(function(){if(s.running){return false}e(r)});r.hover(function(){q.show()},function(){q.hide()})}function o(t){var u=m(t);if(c.controlNav===true||c.controlNav==="classical"){var q=a('<ul class="om-slider-nav-classical"></ul>');u.controlNav=".om-slider-nav-classical";for(n=0;n<u.totalSlides;n++){var r=a("<li>"+(n+1)+"</li>");r.data("sid",n);var s=0;r.click(function(){f(t,a(this).data("sid"))});r.hover(function(){if(u.running){return false}var v=a(this);if(v.hasClass(c.activeNavCls)){return false}s=setTimeout(function(){f(t,v.data("sid"))},c.delay)},function(){clearTimeout(s)});q.append(r)}t.append(q)}else{if(c.controlNav==="dot"){var q=a('<div class="om-slider-nav-dot"></div>');u.controlNav=".om-slider-nav-dot";for(n=0;n<u.totalSlides;n++){var r=a('<a href="javascript:void(0)">'+(n+1)+"</a>");r.data("sid",n);var s=0;r.click(function(){f(t,a(this).data("sid"))});r.hover(function(){if(u.running){return false}var v=a(this);if(v.hasClass(c.activeNavCls)){return false}s=setTimeout(function(){f(t,v.data("sid"))},c.delay)},function(){clearTimeout(s)});q.append(r)}q.appendTo(t).css({marginLeft:-1*q.width()/2})}else{if(a(c.controlNav).length>0){u.controlNav=c.controlNav;u.customNav=true;var q=a(c.controlNav);q.children().each(function(x){var v=a(this);v.data("sid",x);var w=0;v.click(function(){f(t,a(this).data("sid"))});v.hover(function(){if(u.running){return false}var y=a(this);if(y.hasClass(c.activeNavCls)){return false}w=setTimeout(function(){f(t,y.data("sid"))},c.delay)},function(){clearTimeout(w)})})}}}}return this.each(function(){var v=0;var u=a(this);var t={currentSlide:0,totalSlides:0,running:false,paused:false,stop:false,controlNav:".om-slider-nav-classical"};var s=u.data("omSlider");if(s){return s}u.data("omSlider",u).data("omSlider:vars",t).data("omSlider:opts",c).addClass("om-slider");if(c.startSlide>0){t.currentSlide=c.startSlide}var r=u.children();r.wrapAll('<ul class="om-slider-content"></ul>').wrap('<li class="om-slider-item"></li>');if(c.effect=="slide-v"||c.effect=="slide-h"){u.find(".om-slider-content").addClass("om-slider-effect-"+c.effect)}t.totalSlides=r.length;o(u);function q(y,x){if(isNaN(x)||x<0||x>=t.totalSlides){return}var B=y.find("ul.om-slider-content"),w=B.children(),A=0,z=0;if(c.effect=="slide-h"){w.each(function(C){if(C==x){return false}z-=a(this).width()});setTimeout(function(){B.css({left:z,top:A})},0)}else{if(c.effect=="slide-v"){w.each(function(C){if(C==x){return false}A-=a(this).height()});setTimeout(function(){B.css({left:z,top:A})},0)}else{B.children().eq(x).show()}}if(t.controlNav){d(y,x)}if(c.autoPlay){v=setInterval(function(){e(y)},c.interval)}if(c.pauseOnHover){y.hover(function(){t.paused=true;clearInterval(v)},function(){t.paused=false;if(c.autoPlay){v=setInterval(function(){e(y)},c.interval)}})}if(c.directionNav){l(y)}}if(c.startSlide>0&&(c.effect=="slide-h"||c.effect=="slide-v")){a(window).load(function(){q(u,c.startSlide)})}else{q(u,c.startSlide)}})}})(jQuery);